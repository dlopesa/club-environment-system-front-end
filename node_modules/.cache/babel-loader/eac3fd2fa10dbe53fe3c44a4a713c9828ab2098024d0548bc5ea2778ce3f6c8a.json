{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/Matas K/Desktop/Stuff/Uni/gith/club-environment-system-front-end/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/Matas K/Desktop/Stuff/Uni/gith/club-environment-system-front-end/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/Matas K/Desktop/Stuff/Uni/gith/club-environment-system-front-end/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";//Notes temperature means reading, It's because I was doing first for only temperature\n//so then I just addapted the code and didn't have time to rename everything\nimport React,{useState,useEffect}from\"react\";import\"./App.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var TemperatureComponent=function TemperatureComponent(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),temperatureData=_useState2[0],setTemperatureData=_useState2[1];useEffect(function(){var fetchData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return fetch(\"/temperature.json\");case 3:response=_context.sent;_context.next=6;return response.json();case 6:data=_context.sent;setTemperatureData(data);_context.next=13;break;case 10:_context.prev=10;_context.t0=_context[\"catch\"](0);console.error(\"Error fetching data:\",_context.t0);case 13:case\"end\":return _context.stop();}},_callee,null,[[0,10]]);}));return function fetchData(){return _ref.apply(this,arguments);};}();fetchData();var interval=setInterval(fetchData,300000);// Refresh every 5 minutes\nreturn function(){return clearInterval(interval);};// Clean up the interval on component unmount\n},[]);return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Readings\"}),/*#__PURE__*/_jsxs(\"table\",{children:[/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"ID\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Date\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Temperature\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Humidity\"}),/*#__PURE__*/_jsx(\"th\",{children:\"CO2\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Sound\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Light\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Code\"})]}),temperatureData.length>0?temperatureData.map(function(reading,index){return/*#__PURE__*/ (//<div key={index}>\n_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:index+1}),/*#__PURE__*/_jsx(\"td\",{children:reading.timeReceived}),/*#__PURE__*/_jsx(\"td\",{children:reading.temperature}),/*#__PURE__*/_jsx(\"td\",{children:reading.humidity}),/*#__PURE__*/_jsx(\"td\",{children:reading.co2}),/*#__PURE__*/_jsx(\"td\",{children:reading.sound}),/*#__PURE__*/_jsx(\"td\",{children:reading.light}),/*#__PURE__*/_jsx(\"td\",{children:reading.code})]})//</div>\n);}):/*#__PURE__*/_jsx(\"p\",{children:\"No temperature data available\"})]})]});};export default TemperatureComponent;","map":{"version":3,"names":["React","useState","useEffect","jsx","_jsx","jsxs","_jsxs","TemperatureComponent","_useState","_useState2","_slicedToArray","temperatureData","setTemperatureData","fetchData","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","data","wrap","_callee$","_context","prev","next","fetch","sent","json","t0","console","error","stop","apply","arguments","interval","setInterval","clearInterval","children","length","map","reading","index","timeReceived","temperature","humidity","co2","sound","light","code"],"sources":["C:/Users/Matas K/Desktop/Stuff/Uni/gith/club-environment-system-front-end/src/TemperatureComponent.js"],"sourcesContent":["//Notes temperature means reading, It's because I was doing first for only temperature\r\n//so then I just addapted the code and didn't have time to rename everything\r\nimport React, { useState, useEffect } from \"react\";\r\nimport \"./App.css\";\r\n\r\nconst TemperatureComponent = () => {\r\n  const [temperatureData, setTemperatureData] = useState([]);\r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      try {\r\n        //it would be really cool if someone can figure how to import the json before\r\n        // (as react is imported on line 3)\r\n        //For some reason when I try to do it gives a strange error that it start reading some html random file\r\n        //But if not no worries it works like it is rn\r\n        const response = await fetch(\"/temperature.json\"); //this file is located at public foalder so before \"SRC\"\r\n        const data = await response.json();\r\n        setTemperatureData(data);\r\n      } catch (error) {\r\n        console.error(\"Error fetching data:\", error);\r\n      }\r\n    };\r\n\r\n    fetchData();\r\n    const interval = setInterval(fetchData, 300000); // Refresh every 5 minutes\r\n\r\n    return () => clearInterval(interval); // Clean up the interval on component unmount\r\n  }, []);\r\n\r\n  return (\r\n    <div>\r\n      <h1>Readings</h1>\r\n      <table>\r\n        <tr>\r\n          <th>ID</th>\r\n          <th>Date</th>\r\n          <th>Temperature</th>\r\n          <th>Humidity</th>\r\n          <th>CO2</th>\r\n          <th>Sound</th>\r\n          <th>Light</th>\r\n          <th>Code</th>\r\n        </tr>\r\n        {temperatureData.length > 0 ? (\r\n          temperatureData.map((reading, index) => (\r\n            //<div key={index}>\r\n            <tr>\r\n              <td>{index + 1}</td>\r\n              <td>{reading.timeReceived}</td>\r\n              <td>{reading.temperature}</td>\r\n              <td>{reading.humidity}</td>\r\n              <td>{reading.co2}</td>\r\n              <td>{reading.sound}</td>\r\n              <td>{reading.light}</td>\r\n              <td>{reading.code}</td>\r\n            </tr>\r\n            //</div>\r\n          ))\r\n        ) : (\r\n          <p>No temperature data available</p>\r\n        )}\r\n      </table>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TemperatureComponent;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}